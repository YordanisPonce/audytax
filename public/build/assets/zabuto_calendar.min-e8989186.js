/*! Zabuto Calendar - v2.1.0 - 2022-12-29
* https://github.com/zabuto/calendar
* Copyright (c) 2022 Anke Heijnen; Licensed MIT */(function(u){(function(r,z,k,p){function y(a,e){this.element=a,this._name=h,this._defaults=r.fn[h].defaults,this.settings=r.extend({},this._defaults,e),this.settings.translation!==null?this.settings.language=null:this.settings.language=this.settings.language.toLowerCase(),this.init()}var h="zabuto_calendar",v=new Date;r.fn[h]=function(a){var e;if(a!==p){var t=r.makeArray(arguments);e=t.slice(1)}return this.each(function(){var n=r.data(this,"plugin_"+h);n?typeof a=="string"&&typeof n[a]=="function"&&n[a].apply(n,e):r.data(this,"plugin_"+h,new y(this,a))})},r.fn[h].defaults={year:v.getFullYear(),month:v.getMonth()+1,language:"en",translation:null,week_starts:"monday",show_days:!0,classname:null,header_format:"[month] [year]",date_format:"y-m-d",navigation_prev:!0,navigation_next:!0,navigation_markup:{prev:"&#9668;",next:"&#9658;"},today_markup:null,events:null,ajax:null},r.fn[h].languages={},r.extend(y.prototype,{init:function(){var a=r.Event("zabuto:calendar:init");a.settings=this.settings,r(this.element).trigger(a),this.goto(this.settings.year,this.settings.month)},destroy:function(){var a=r(this.element);a.removeData("plugin_"+h),a.removeData("year"),a.removeData("month"),a.removeData("event-data"),a.empty(),a.trigger("zabuto:calendar:destroy")},reload:function(){var a=r(this.element),e=r.Event("zabuto:calendar:reload");e.year=a.data("year"),e.month=a.data("month"),a.trigger(e),this.data()},goto:function(a,e){if(this._isValidDate(a,e,1)!==!1){var t=r.Event("zabuto:calendar:goto");t.year=a,t.month=e;var n=r(this.element);n.data("year",a),n.data("month",e),n.trigger(t),this.data()}},data:function(){var a=this,e=r(this.element),t=a._getEventHandle();if(t===null)e.data("event-data",[]),this.render();else if(t.type==="fixed"){var n=a._eventsToDays(t.data),s=r.Event("zabuto:calendar:data");s.type="fixed",s.eventlist=t.data,s.eventdata=n,e.data("event-data",n),e.trigger(s),a.render()}else if(t.type==="ajax"){var o=t.settings;o.data={year:e.data("year"),month:e.data("month")},o.dataType="json",r.ajax(o).done(function(i){var g=a._eventsToDays(i),l=r.Event("zabuto:calendar:data");l.type="ajax",l.eventlist=i,l.eventdata=g,e.data("event-data",g),e.trigger(l),a.render()}).fail(function(i,g,l){var d=r.Event("zabuto:calendar:data-fail");d.text=g,d.error=l,e.data("event-data",[]),e.trigger(d),a.render()})}},render:function(){var a=r(this.element),e=a.data("year"),t=a.data("month"),n=r.Event("zabuto:calendar:preRender");n.year=e,n.month=t,a.trigger(n),a.empty(),this._isValidDate(e,t,1)&&a.append(this._renderTable(e,t));var s=r.Event("zabuto:calendar:render");s.year=e,s.month=t,a.trigger(s)},_renderTable:function(a,e){var t=r("<table></table>").addClass("zabuto-calendar");this.settings.classname&&t.addClass(this.settings.classname);var n=r("<thead></thead>");n.append(this._renderNavigation(a,e)),this.settings.show_days===!0&&n.append(this._renderDaysOfWeek());var s=this._renderDaysInMonth(a,e);return t.append(n),t.append(s),t},_renderNavigation:function(a,e){var t=this,n=t.settings.header_format;n=n.replace("[year]",a.toString());var s=t._getTranslation();if(s!==null&&"months"in s){var o=s.months;n=n.replace("[month]",o[e.toString()])}else n=n.replace("[month]",e.toString());var i=r("<tr></tr>").addClass("zabuto-calendar__navigation").attr("role","navigation"),g=t._calculatePrevious(a,e),l=t._calculateNext(a,e),d=r("<span></span>").text(n).data("to",{year:t.settings.year,month:t.settings.month});d.addClass("zabuto-calendar__navigation__item--header__title"),g===null&&l===null||d.on("zabuto:calendar:navigate-init",function(_){var m=r(this).data("to");_.year=m.year,_.month=m.month,t.goto(m.year,m.month)}).on("dblclick",function(){r(this).trigger("zabuto:calendar:navigate-init")});var c=r("<td></td>");return c.addClass("zabuto-calendar__navigation__item--header"),c.append(d),g===null&&l===null?i.append(c.attr("colspan",7)):(i.append(t._renderNavigationItem("prev",g)),i.append(c.attr("colspan",5)),i.append(t._renderNavigationItem("next",l))),i},_renderNavigationItem:function(a,e){var t=this;a=a.toString();var n=r("<td></td>").data("nav",a).data("to",e);return n.addClass("zabuto-calendar__navigation__item--"+a),e!==null&&(a in t.settings.navigation_markup?n.html(t.settings.navigation_markup[a]):n.html(a),n.on("zabuto:calendar:navigate",function(s){var o=r(this).data("to");s.year=o.year,s.month=o.month,t.goto(o.year,o.month)}).on("click",function(){r(this).trigger("zabuto:calendar:navigate")})),n},_renderDaysOfWeek:function(){var a=this.settings.week_starts,e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},t=this._getTranslation();t!==null&&"days"in t&&(e=t.days);var n=r("<tr></tr>").addClass("zabuto-calendar__days-of-week");return a!==0&&a!=="0"&&a!=="sunday"||n.append(r("<th></th>").data("dow",0).text(e[0]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",1).text(e[1]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",2).text(e[2]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",3).text(e[3]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",4).text(e[4]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",5).text(e[5]).addClass("zabuto-calendar__days-of-week__item")),n.append(r("<th></th>").data("dow",6).text(e[6]).addClass("zabuto-calendar__days-of-week__item")),a!==1&&a!=="1"&&a!=="monday"||n.append(r("<th></th>").data("dow",0).text(e[0]).addClass("zabuto-calendar__days-of-week__item")),n},_renderDaysInMonth:function(a,e){var t=this,n=t.settings.week_starts,s=t._calculateWeeksInMonth(a,e),o=t._calculateLastDayOfMonth(a,e),i=t._calculateDayOfWeek(a,e,1),g=[0,1,2,3,4,5,6],l=i;n!==1&&n!=="1"&&n!=="monday"||(g=[1,2,3,4,5,6,7],l=i===0?7:i);for(var d=r("<tbody></tbody>"),c=1,_=1;_<=s;_++){var m=t._renderWeek(_,s);r.each(g,function(D,f){if(_===1&&f<l||c>o)m.append(r("<td></td>").addClass("zabuto-calendar__day--empty"));else{var b=t._renderDay(a,e,c,f);m.append(b),c++}}),d.append(m)}return d},_renderWeek:function(a,e){var t=r("<tr></tr>");return a===1?t.addClass("zabuto-calendar__week--first"):a===e?t.addClass("zabuto-calendar__week--last"):t.addClass("zabuto-calendar__week"),t},_renderDay:function(a,e,t,n){var s=this._dateAsString(a,e,t),o=this._eventsForDay(s),i=r("<td></td>");if(i.data("date",s),i.data("year",a),i.data("month",e),i.data("day",t),i.data("dow",n===7?0:n),i.data("eventdata",o),this._isToday(a,e,t))if(i.data("today",1),i.addClass("zabuto-calendar__day--today"),this.settings.today_markup){var g=this.settings.today_markup;g=g.replace("[day]",t),i.html(g)}else i.text(t);else i.data("today",0),i.addClass("zabuto-calendar__day"),i.text(t);if(o!==null){if(i.data("hasEvent",1),i.addClass("zabuto-calendar__event"),r.each(o.classnames,function(d,c){i.addClass(c)}),o.markup!==null){var l=o.markup;l=l.replace("[day]",t),i.html(l)}}else i.data("hasEvent",0);return i.on("zabuto:calendar:day",function(d){d.element=r(this),d.date=new Date(r(this).data("year"),r(this).data("month")-1,r(this).data("day")),d.value=r(this).data("date"),d.today=!!r(this).data("today"),d.hasEvent=!!r(this).data("hasEvent"),d.eventdata=o}).on("click",function(){r(this).trigger("zabuto:calendar:day")}),i},_getTranslation:function(){var a=this.settings.translation;if(a!==null&&typeof a=="object"&&"months"in a&&"days"in a)return a;var e=this.settings.language,t=r.fn[h].languages;return e in t?t[e]:null},_calculateWeeksInMonth:function(a,e){var t=this.settings.week_starts,n=this._calculateLastDayOfMonth(a,e),s=this._calculateDayOfWeek(a,e,1),o=this._calculateDayOfWeek(a,e,n),i=s,g=o;t!==1&&t!=="1"&&t!=="monday"||(i=s===0?7:s,g=o===0?7:o);var l=i-g,d=n+l;return Math.ceil(d/7)},_calculateLastDayOfMonth:function(a,e){var t=e-1;return new Date(a,t+1,0).getDate()},_calculateDayOfWeek:function(a,e,t){var n=e-1;return new Date(a,n,t).getDay()},_calculatePrevious:function(a,e){if(this.settings.navigation_prev===!1)return null;var t=a,n=e-1;return n===0&&(t=a-1,n=12),{year:t,month:n}},_calculateNext:function(a,e){if(this.settings.navigation_next===!1)return null;var t=a,n=e+1;return n===13&&(t=a+1,n=1),{year:t,month:n}},_isValidDate:function(a,e,t){if(e<1||e>12)return!1;var n=e-1,s=new Date(a,n,t);return s.getFullYear()===a&&s.getMonth()===n&&s.getDate()===Number(t)},_isToday:function(a,e,t){var n=e-1,s=new Date;return new Date(a,n,t).toDateString()===s.toDateString()},_dateAsString:function(a,e,t){var n=this.settings.date_format;return t=t<10?"0"+t:t,e=e<10?"0"+e:e,n=n.replace("y",a),n=n.replace("m",e),n=n.replace("d",t)},_getEventHandle:function(){var a=this.settings.events;if(a!==null&&typeof a=="object")return{type:"fixed",data:a};var e=this.settings.ajax;return e!==null?(typeof e=="string"&&(e={type:"GET",url:e,cache:!1}),{type:"ajax",settings:e}):null},_eventsToDays:function(a){var e=[];return r.each(a,function(t,n){if(typeof n=="object"&&"date"in n){var s=n.date,o={count:0,classnames:[],markup:null,events:[]};s in e&&(o=e[s]),o.count=o.count+1,o.events.push(n),"classname"in n&&n.classname!==null&&o.classnames.push(n.classname),"markup"in n&&n.markup!==null&&(o.markup=n.markup),e[s]=o}}),e},_eventsForDay:function(a){var e=r(this.element),t=e.data("event-data");if(!(a in t))return null;var n=t[a],s=r.Event("zabuto:calendar:day-event");return s.value=a,s.eventdata=n,e.trigger(s),n}})})(jQuery,window,document,void 0),u.fn.zabuto_calendar.languages=u.fn.zabuto_calendar.languages||{},u.fn.zabuto_calendar.languages.ar={months:{1:"يناير",2:"فبراير",3:"مارس",4:"أبريل",5:"مايو",6:"يونيو",7:"يوليو",8:"أغسطس",9:"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"},days:{0:"أحد",1:"أثنين",2:"ثلاثاء",3:"اربعاء",4:"خميس",5:"جمعه",6:"سبت"}},u.fn.zabuto_calendar.languages.az={months:{1:"Yanvar",2:"Fevral",3:"Mart",4:"Aprel",5:"May",6:"İyun",7:"İyul",8:"Avqust",9:"Sentyabr",10:"Oktyabr",11:"Noyabr",12:"Dekabr"},days:{0:"Baz",1:"B.e",2:"Ç.A",3:"Çərş",4:"C.A",5:"Cümə",6:"Şən"}},u.fn.zabuto_calendar.languages.ca={months:{1:"Gener",2:"Febrer",3:"Març",4:"Abril",5:"Maig",6:"Juny",7:"Juliol",8:"Agost",9:"Setembre",10:"Octubre",11:"Novembre",12:"Desembre"},days:{0:"Dg",1:"Dl",2:"Dt",3:"Dc",4:"Dj",5:"Dv",6:"Ds"}},u.fn.zabuto_calendar.languages.cn={months:{1:"一月",2:"二月",3:"三月",4:"四月",5:"五月",6:"六月",7:"七月",8:"八月",9:"九月",10:"十月",11:"十一月",12:"十二月"},days:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"}},u.fn.zabuto_calendar.languages.cs={months:{1:"Leden",2:"Únor",3:"Březen",4:"Duben",5:"Květen",6:"Červen",7:"Červenec",8:"Srpen",9:"Září",10:"Říjen",11:"Listopad",12:"Prosinec"},days:{0:"Ne",1:"Po",2:"Út",3:"St",4:"Čt",5:"Pá",6:"So"}},u.fn.zabuto_calendar.languages.de={months:{1:"Januar",2:"Februar",3:"März",4:"April",5:"Mai",6:"Juni",7:"Juli",8:"August",9:"September",10:"Oktober",11:"November",12:"Dezember"},days:{0:"So",1:"Mo",2:"Di",3:"Mi",4:"Do",5:"Fr",6:"Sa"}},u.fn.zabuto_calendar.languages.en={months:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},days:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}},u.fn.zabuto_calendar.languages.es={months:{1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},days:{0:"Do",1:"Lu",2:"Ma",3:"Mi",4:"Ju",5:"Vi",6:"Sá"}},u.fn.zabuto_calendar.languages.fi={months:{1:"Tammikuu",2:"Helmikuu",3:"Maaliskuu",4:"Huhtikuu",5:"Toukokuu",6:"Kesäkuu",7:"Heinäkuu",8:"Elokuu",9:"Syyskuu",10:"Lokakuu",11:"Marraskuu",12:"Joulukuu"},days:{0:"Su",1:"Ma",2:"Ti",3:"Ke",4:"To",5:"Pe",6:"La"}},u.fn.zabuto_calendar.languages.fr={months:{1:"Janvier",2:"Février",3:"Mars",4:"Avril",5:"Mai",6:"Juin",7:"Juillet",8:"Août",9:"Septembre",10:"Octobre",11:"Novembre",12:"Décembre"},days:{0:"Dim",1:"Lun",2:"Mar",3:"Mer",4:"Jeu",5:"Ven",6:"Sam"}},u.fn.zabuto_calendar.languages.he={months:{1:"ינואר",2:"פברואר",3:"מרץ",4:"אפריל",5:"מאי",6:"יוני",7:"יולי",8:"אוגוסט",9:"ספטמבר",10:"אוקטובר",11:"נובמבר",12:"דצמבר"},days:{0:"א",1:"ב",2:"ג",3:"ד",4:"ה",5:"ו",6:"ש"}},u.fn.zabuto_calendar.languages.hu={months:{1:"Január",2:"Február",3:"Március",4:"Április",5:"Május",6:"Június",7:"Július",8:"Augusztus",9:"Szeptember",10:"Október",11:"November",12:"December"},days:{0:"Va",1:"Hé",2:"Ke",3:"Sze",4:"Cs",5:"Pé",6:"Szo"}},u.fn.zabuto_calendar.languages.id={months:{1:"Januari",2:"Februari",3:"Maret",4:"April",5:"Mei",6:"Juni",7:"Juli",8:"Agustus",9:"September",10:"Oktober",11:"November",12:"Desember"},days:{0:"Minggu",1:"Senin",2:"Selasa",3:"Rabu",4:"Kamis",5:"Jum'at",6:"Sabtu"}},u.fn.zabuto_calendar.languages.it={months:{1:"Gennaio",2:"Febbraio",3:"Marzo",4:"Aprile",5:"Maggio",6:"Giugno",7:"Luglio",8:"Agosto",9:"Settembre",10:"Ottobre",11:"Novembre",12:"Dicembre"},days:{0:"Dom",1:"Lun",2:"Mar",3:"Mer",4:"Gio",5:"Ven",6:"Sab"}},u.fn.zabuto_calendar.languages.jp={months:{1:"1月",2:"2月",3:"3月",4:"4月",5:"5月",6:"6月",7:"7月",8:"8月",9:"9月",10:"10月",11:"11月",12:"12月"},days:{0:"日",1:"月",2:"火",3:"水",4:"木",5:"金",6:"土"}},u.fn.zabuto_calendar.languages.kr={months:{1:"1월",2:"2월",3:"3월",4:"4월",5:"5월",6:"6월",7:"7월",8:"8월",9:"9월",10:"10월",11:"11월",12:"12월"},days:{0:"일",1:"월",2:"화",3:"수",4:"목",5:"금",6:"토"}},u.fn.zabuto_calendar.languages.nl={months:{1:"Januari",2:"Februari",3:"Maart",4:"April",5:"Mei",6:"Juni",7:"Juli",8:"Augustus",9:"September",10:"Oktober",11:"November",12:"December"},days:{0:"Zo",1:"Ma",2:"Di",3:"Wo",4:"Do",5:"Vr",6:"Za"}},u.fn.zabuto_calendar.languages.no={months:{1:"Januar",2:"Februar",3:"Mars",4:"April",5:"Mai",6:"Juni",7:"Juli",8:"August",9:"September",10:"Oktober",11:"November",12:"Desember"},days:{0:"Sø",1:"Ma",2:"Ti",3:"On",4:"To",5:"Fr",6:"Lø"}},u.fn.zabuto_calendar.languages.pl={months:{1:"Styczeń",2:"Luty",3:"Marzec",4:"Kwiecień",5:"Maj",6:"Czerwiec",7:"Lipiec",8:"Sierpień",9:"Wrzesień",10:"Październik",11:"Listopad",12:"Grudzień"},days:{0:"niedz.",1:"pon.",2:"wt.",3:"śr.",4:"czw.",5:"pt.",6:"sob."}},u.fn.zabuto_calendar.languages.pt={months:{1:"Janeiro",2:"Fevereiro",3:"Marco",4:"Abril",5:"Maio",6:"Junho",7:"Julho",8:"Agosto",9:"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"},days:{0:"D",1:"S",2:"T",3:"Q",4:"Q",5:"S",6:"S"}},u.fn.zabuto_calendar.languages.ru={months:{1:"Январь",2:"Февраль",3:"Март",4:"Апрель",5:"Май",6:"Июнь",7:"Июль",8:"Август",9:"Сентябрь",10:"Октябрь",11:"Ноябрь",12:"Декабрь"},days:{0:"Вск",1:"Пн",2:"Вт",3:"Ср",4:"Чт",5:"Пт",6:"Сб"}},u.fn.zabuto_calendar.languages.se={months:{1:"Januari",2:"Februari",3:"Mars",4:"April",5:"Maj",6:"Juni",7:"Juli",8:"Augusti",9:"September",10:"Oktober",11:"November",12:"December"},days:{0:"Sön",1:"Mån",2:"Tis",3:"Ons",4:"Tor",5:"Fre",6:"Lör"}},u.fn.zabuto_calendar.languages.sk={months:{1:"Január",2:"Február",3:"Marec",4:"Apríl",5:"Máj",6:"Jún",7:"Júl",8:"August",9:"September",10:"Október",11:"November",12:"December"},days:{0:"Ne",1:"Po",2:"Ut",3:"St",4:"Št",5:"Pi",6:"So"}},u.fn.zabuto_calendar.languages.sr={months:{1:"Јануар",2:"Фебруар",3:"Март",4:"Април",5:"Мај",6:"Јун",7:"Јул",8:"Август",9:"Септембар",10:"Октобар",11:"Новембар",12:"Децембар"},days:{0:"Нед",1:"Пон",2:"Уто",3:"Сре",4:"Чет",5:"Пет",6:"Суб"}},u.fn.zabuto_calendar.languages.tr={months:{1:"Ocak",2:"Şubat",3:"Mart",4:"Nisan",5:"Mayıs",6:"Haziran",7:"Temmuz",8:"Ağustos",9:"Eylül",10:"Ekim",11:"Kasım",12:"Aralık"},days:{0:"Paz",1:"Pts",2:"Salı",3:"Çar",4:"Per",5:"Cuma",6:"Cts"}},u.fn.zabuto_calendar.languages.ua={months:{1:"Січень",2:"Лютий",3:"Березень",4:"Квітень",5:"Травень",6:"Червень",7:"Липень",8:"Серпень",9:"Вересень",10:"Жовтень",11:"Листопад",12:"Грудень"},days:{0:"Нд",1:"Пн",2:"Вт",3:"Ср",4:"Чт",5:"Пт",6:"Сб"}}})(jQuery);
